
<div class="solicitar-turno-page">
  <div class="turno-card">
    <h2>Solicitar Turno</h2>

    <!-- 1) Especialidad -->
    <div class="form-group">
      <label>Especialidad</label>
      <div class="pill-group">
        <button
          type="button"
          class="pill"
          *ngFor="let esp of especialidades"
          [class.active]="turnoForm.value.especialidad === esp"
          (click)="turnoForm.get('especialidad')!.setValue(esp)">
          {{ esp }}
        </button>
      </div>
    </div>

    <!-- 2) Especialista -->
    <div class="form-group" *ngIf="turnoForm.value.especialidad">
      <label>Especialista</label>
      <div class="pill-group">
        <button
          type="button"
          class="pill"
          *ngFor="let e of especialistasFiltrados"
          [class.active]="turnoForm.value.especialista === e.nombre"
          (click)="selectEspecialista(e)">
          {{ e.nombre }}
        </button>
      </div>
    </div>

    <!-- 3) Detalle visual -->
    <div class="especialista-detail" *ngIf="selectedEspecialista">
      <img
        [src]="selectedEspecialista.imagenPerfil"
        [alt]="selectedEspecialista.nombre"
      />
      <span>{{ selectedEspecialista.nombre }}</span>
    </div>

    <!-- 4) Fechas (como pills) -->
    <div class="form-group" *ngIf="selectedEspecialista">
      <label>Fecha</label>
      <div class="pill-group">
        <button
          type="button"
          class="pill"
          *ngFor="let d of availableDates"
          [class.active]="turnoForm.value.fecha === d"
          (click)="selectDate(d)">
          {{ d }}
        </button>
      </div>
    </div>

    <!-- 5) Horarios (como pills) -->
    <div class="form-group" *ngIf="turnoForm.value.fecha">
      <label>Hora</label>
      <div class="pill-group">
        <button
          type="button"
          class="pill"
          *ngFor="let t of availableTimes"
          [class.active]="turnoForm.value.horario === t"
          (click)="selectTime(t)">
          {{ t }}
        </button>
      </div>
    </div>

    <!-- 6) BotÃ³n Confirmar -->
    <button
      class="btn-primary"
      (click)="onSubmit()"
      [disabled]="turnoForm.invalid">
      Confirmar Turno
    </button>
  </div>
</div>
